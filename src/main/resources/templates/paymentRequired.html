<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/baseLayout}"
      lang="en">
<head>
    <title th:text="${#fields.hasErrors('${paymentRequired.*}')} ? #{error} + ' ' + #{paymentRequired.title} : #{paymentRequired.title}"></title>
</head>
<body class="govuk-template__body" layout:fragment="content">

<form th:action="@{/efs-submission/{id}/company/{companyNumber}/payment-required(id=*{submissionId}, companyNumber=*{companyNumber})}" th:object="${paymentRequired}"
      method="post" autocomplete="off">

    <!-- Back Link -->
    <a class="govuk-back-link" th:href="@{/efs-submission/{id}/company/{companyNumber}/document-upload(id=*{submissionId}, companyNumber=*{companyNumber})}" th:text="#{link.back}"></a>

    <!-- Main Content -->
    <main class="govuk-main-wrapper" id="main-content" role="main">

        <!-- Main Wrapper -->
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds-from-desktop">
                <div th:replace="fragments/errorSummary :: errorSummary"></div>
                <!-- Page Content -->
                <div id="content-wrapper" class="govuk-form-group"
                     th:classappend="${#fields.hasErrors('paymentReference')} ? govuk-form-group--error : noerror">

                    <fieldset class="govuk-fieldset" aria-describedby="page-heading">

                        <!-- Display Title -->
                        <h1 id="page-heading" class="govuk-heading-xl"
                            th:text="#{paymentRequired.heading}"></h1>

                        <p class="govuk-body" th:text="#{paymentRequired.guidance.para1}"></p>
                        <div class="govuk-inset-text" th:text="#{paymentRequired.guidance.hint}"></div>


                        <div class="govuk-form-group govuk-!-margin-bottom-0 govuk-!-padding-bottom-6">
                            <label class="govuk-label" for="paymentReference"
                                   th:text="#{paymentRequired.form.paymentReference}"></label>
                            <span id="paymentReference-error" class="govuk-error-message"
                                  th:if="${#fields.hasErrors('paymentReference')}"
                                  th:each="e: ${#fields.errors('paymentReference')}" th:text="${e}">
                                            </span>
                            <input class="govuk-input govuk-input--width-10"
                                   th:classappend="${#fields.hasErrors('paymentReference')} ? 'govuk-input--error' : ''"
                                   id="paymentReference" name="payment-reference" type="text"
                                   th:field="*{paymentReference}"/>
                        </div>
                    </fieldset>
                </div>
                <button data-prevent-double-click="true" id="submit-all" type="submit" class="govuk-button"
                        name="action" value="submit" th:text="#{paymentRequired.button.continue}">
                </button>
            </div>
        </div>
    </main>
</form>
</body>
</html>